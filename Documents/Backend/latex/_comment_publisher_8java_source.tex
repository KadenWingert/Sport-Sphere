\doxysection{Comment\+Publisher.\+java}
\hypertarget{_comment_publisher_8java_source}{}\label{_comment_publisher_8java_source}\index{C:/Users/Arie/Develop/hb\_215/Backend/src/main/java/coms309/Comment/CommentPublisher.java@{C:/Users/Arie/Develop/hb\_215/Backend/src/main/java/coms309/Comment/CommentPublisher.java}}
\mbox{\hyperlink{_comment_publisher_8java}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00002}00002\ \textcolor{keyword}{package\ }coms309.Comment;}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00005}00005\ \textcolor{keyword}{import}\ org.reactivestreams.Publisher;}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00007}00007\ \textcolor{keyword}{import}\ org.springframework.stereotype.Component;}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00009}00009\ \textcolor{keyword}{import}\ reactor.core.publisher.DirectProcessor;}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00011}00011\ \textcolor{keyword}{import}\ reactor.core.publisher.FluxProcessor;}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00013}00013\ \textcolor{keyword}{import}\ reactor.core.publisher.FluxSink;}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00015}00015\ \textcolor{comment}{/**********************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00024}00024\ @Component}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00025}\mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment_publisher}{00025}}\ \textcolor{keyword}{public}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment_publisher}{CommentPublisher}}\ \{}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00027}00027\ \textcolor{comment}{\ \ \ \ /**********************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00035}00035\ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{final}\ FluxProcessor<Comment,\ Comment>\ processor;}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00037}00037\ \textcolor{comment}{\ \ \ \ /**********************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00045}00045\ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{final}\ FluxSink<Comment>\ sink;}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00047}00047\ \textcolor{comment}{\ \ \ \ /**********************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00056}\mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment_publisher_a289111bbacb2fb873ba3bfaaec4ba3a6}{00056}}\ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment_publisher_a289111bbacb2fb873ba3bfaaec4ba3a6}{CommentPublisher}}()\ \{}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00057}00057\ \ \ \ \ \ \ \ \ this.processor\ =\ DirectProcessor.<\mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment}{Comment}}>create().serialize();}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00058}00058\ \ \ \ \ \ \ \ \ this.sink\ =\ processor.sink();}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00059}00059\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00061}00061\ \textcolor{comment}{\ \ \ \ /**********************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00072}\mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment_publisher_ad156026ec9394818eade144baa2cb794}{00072}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment_publisher_ad156026ec9394818eade144baa2cb794}{publish}}(\mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment}{Comment}}\ comment)\ \{}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00073}00073\ \ \ \ \ \ \ \ \ sink.next(comment);}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00074}00074\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00076}00076\ \textcolor{comment}{\ \ \ \ /**********************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00089}\mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment_publisher_aa71eabd2b0fc8d3f77240843c09406e7}{00089}}\ \ \ \ \ \textcolor{keyword}{public}\ Publisher<Comment>\ \mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment_publisher_aa71eabd2b0fc8d3f77240843c09406e7}{subCommentsById}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00090}00090\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ processor.map(comment\ -\/>\ \{}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ comment;}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00092}00092\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00093}00093\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00095}00095\ \textcolor{comment}{\ \ \ \ /**********************************************************************************************/}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00106}\mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment_publisher_ac5e80fcd9137338c7cda9b7a93e43788}{00106}}\ \ \ \ \ \textcolor{keyword}{public}\ Publisher<Comment>\ \mbox{\hyperlink{classcoms309_1_1_comment_1_1_comment_publisher_ac5e80fcd9137338c7cda9b7a93e43788}{subComments}}()\ \{}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00107}00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ processor.map((comment\ -\/>\ \{}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ comment;}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00109}00109\ \ \ \ \ \ \ \ \ \}));}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00110}00110\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{_comment_publisher_8java_source_l00112}00112\ \}}

\end{DoxyCode}
